spring.application.name=smashrank-api

server.port=${PORT:8080}

spring.data.redis.host=${REDISHOST:localhost}
spring.data.redis.port=${REDISPORT:6379}
spring.data.redis.username=${REDISUSER:default}
spring.data.redis.password=${REDISPASSWORD:}

spring.threads.virtual.enabled=true

logging.level.org.springframework.web=INFO
logging.level.com.smashrank=DEBUG

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Manually build the JDBC URL using Railway's component variables
spring.datasource.url=jdbc:postgresql://${PGHOST}:${PGPORT}/${PGDATABASE}
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}

# Explicitly set the driver to be safe
spring.datasource.driver-class-name=org.postgresql.Driver

# =========================================================================
# JWT Configuration
# =========================================================================
smashrank.jwt.access-token-expiration-ms=3600000
smashrank.jwt.refresh-token-expiration-days=30